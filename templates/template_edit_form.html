{% extends "base.html" %}

{% block title %}–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω: {{ object.title|default:"–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è" }}{% endblock %}

{% block content %}
<div class="container mt-4">
  <h2 class="mb-4">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω</h2>

  <form method="post" enctype="multipart/form-data">
    {% csrf_token %}

    <!-- –ù–∞–∑–≤–∞–Ω–∏–µ -->
    <div class="mb-3">
      <label for="{{ form.title.id_for_label }}" class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞</label>
      {{ form.title }}
    </div>

    <!-- –¢–∏–ø —à–∞–±–ª–æ–Ω–∞ -->
    <div class="mb-3">
      <label for="{{ form.template_type.id_for_label }}" class="form-label">–¢–∏–ø —à–∞–±–ª–æ–Ω–∞</label>
      {{ form.template_type }}
    </div>

    <!-- –ü—Ä–æ–º—Ç -->
    <div class="mb-3">
      <label for="{{ form.promt.id_for_label }}" class="form-label">–ü—Ä–æ–º—Ç</label>
      {{ form.promt }}
      <div class="form-text">–ü—Ä–æ–º—Ç, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ —à–∞–±–ª–æ–Ω–∞</div>
    </div>

    <!-- –ü–æ–ª–µ –¥–ª—è Excel-—Ñ–∞–π–ª–∞ -->
    <div class="mb-3">
      <label for="{{ form.excel_file.id_for_label }}" class="form-label">Excel-—Ñ–∞–π–ª —à–∞–±–ª–æ–Ω–∞</label>
      {{ form.excel_file }}
      {% if object.excel_file %}
        <p class="mt-2 small text-muted">
          üìé –¢–µ–∫—É—â–∏–π —Ñ–∞–π–ª:
          <a href="{{ object.excel_file.url }}" target="_blank">{{ object.excel_file.name }}</a>
        </p>
      {% endif %}
    </div>

    <!-- –ü–æ–ª–µ –¥–ª—è JSON —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏ -->
    <div class="mb-3">
      <label for="{{ form.questions.id_for_label }}" class="form-label">JSON —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏</label>
      {{ form.questions }}
      <div class="form-text">JSON-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–æ–ø—Ä–æ—Å–æ–≤, –∏–∑–≤–ª–µ—á—ë–Ω–Ω—ã—Ö –∏–∑ Excel</div>
    </div>

    <!-- Help text -->
    <div class="mb-3">
      <label for="{{ form.help_text.id_for_label }}" class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞</label>
      {{ form.help_text }}
    </div>

    <!-- –§–ª–∞–≥ –±–∞–∑–æ–≤–æ–≥–æ —à–∞–±–ª–æ–Ω–∞ -->
    <div class="form-check mb-3">
      {{ form.default }}
      <label class="form-check-label" for="{{ form.default.id_for_label }}">–°–¥–µ–ª–∞—Ç—å –±–∞–∑–æ–≤—ã–º —à–∞–±–ª–æ–Ω–æ–º</label>
    </div>

    <!-- –°—Å—ã–ª–∫–∞ –Ω–∞ —Ñ–∞–π–ª –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ -->
    <div class="mb-3">
      <label for="{{ form.excel_storage_url.id_for_label }}" class="form-label">–°—Å—ã–ª–∫–∞ –Ω–∞ Excel –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ</label>
      {{ form.excel_storage_url }}
    </div>

    <!-- –ö–Ω–æ–ø–∫–∏ -->
    <div class="mt-4">
      <button type="submit" class="btn btn-primary">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
      <a href="{% url 'my_templates' %}" class="btn btn-secondary">–û—Ç–º–µ–Ω–∞</a>
    </div>
  </form>
</div>
{% endblock %}
